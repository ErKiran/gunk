// package util contains a simple Echo service.
package util

import (
	"github.com/gunk/opt/http"
	"github.com/gunk/opt"
)

// Message is a Echo message.
type Message struct {
	// Msg holds a message.
	Msg string `pb:1`
}

// Status is a server health status.
type Status int

// Status values.
const (
	// Unknown is the default, unset status value.
	Unknown Status = iota
	// Error is a status value that implies something went wrong.
	Error
	// OK is a status value used when all went well.
	OK
)

// CheckStatusResponse is the response for a check status.
type CheckStatusResponse struct {
	Status Status `pb:"1"`
}

// Util is a utility service.
type Util interface {
	// Echo echoes a message.
	//
	// +gunk http.Match{
	//		Method:	"POST",
	//		Path:	"/",
	//		Body:	"*",
	//	}
	Echo(Message) Message

	// CheckStatus sends the server health status.
	//
	// +gunk http.Match{
	//		Method:	"GET",
	//		Path:	"/",
	//	}
	CheckStatus() CheckStatusResponse
}
